{
  "version": 1,
  "entrypoint": "scripts/agent_tools.py",
  "policy": {
    "prefer_tools_first": true,
    "guidance": "Use these workflows before writing bespoke AnkiConnect calls. Only use raw AnkiConnect for unsupported operations."
  },
  "tools": [
    {
      "id": "sync_pdf_to_deck",
      "description": "Parse a PDF and create/update an Anki deck with extracted vocabulary.",
      "invoke": "python scripts/agent_tools.py sync --pdf <path/to.pdf> --deck <deck_name> --model <text_model> [--romanized] [--dry-run]",
      "backend_script": "AnkiSync.py"
    },
    {
      "id": "generate_audio_for_deck",
      "description": "Generate TTS pronunciation audio for deck cards lacking sound.",
      "invoke": "python scripts/agent_tools.py audio --deck <deck_name> --model <tts_model> --voice <voice> --workers <n> [--dry-run]",
      "backend_script": "AnkiDeckToSpeech.py"
    },
    {
      "id": "generate_images_for_deck",
      "description": "Generate mnemonic images for deck cards via prompt-managed gating.",
      "invoke": "python scripts/agent_tools.py images --deck <deck_name> --image-model <image_model> --workers <n> [--limit <n> --shuffle --seed <n>] [--dry-run]",
      "backend_script": "AnkiDeckToImages.py"
    },
    {
      "id": "import_cards_to_deck",
      "description": "Import explicit Front/Back card pairs from JSON into an Anki deck.",
      "invoke": "python scripts/agent_tools.py cards-import --deck <deck_name> --input <pairs.json> [--front-key Front --back-key Back] [--note-model Basic] [--dry-run]",
      "backend_script": "utils/anki_connect.py"
    },
    {
      "id": "evaluate_image_gating",
      "description": "Evaluate image gating decisions against labeled ground truth and write front/back/output CSV.",
      "invoke": "python scripts/agent_tools.py gating eval --dataset <ground_truth.jsonl> --mode prompt-ref --out-csv tmp/image_gating_eval_outputs.csv",
      "backend_script": "scripts/image_gating_eval.py"
    },
    {
      "id": "hillclimb_image_gating",
      "description": "Iteratively propose and evaluate improved gating prompts against labeled data.",
      "invoke": "python scripts/agent_tools.py gating hillclimb --dataset <ground_truth.jsonl> --seed-prompt <seed_prompt.txt> --rounds 2 --branching 4 --keep-top 2",
      "backend_script": "scripts/image_gating_eval.py"
    },
    {
      "id": "upload_image_gating_dataset",
      "description": "Upload a labeled gating dataset to OpenAI Files for tracking/reuse.",
      "invoke": "python scripts/agent_tools.py gating upload-dataset --dataset <ground_truth.jsonl>",
      "backend_script": "scripts/image_gating_eval.py"
    },
    {
      "id": "list_local_reference_pdfs",
      "description": "List local-only reference PDFs kept outside git tracking.",
      "invoke": "python scripts/agent_tools.py docs-list",
      "backend_script": "scripts/agent_tools.py"
    },
    {
      "id": "read_local_reference_pdf",
      "description": "Extract text from a specific page of a local reference PDF.",
      "invoke": "python scripts/agent_tools.py docs-read --file <filename.pdf> --page <n>",
      "backend_script": "scripts/agent_tools.py"
    },
    {
      "id": "run_web_ui",
      "description": "Run the local Flask UI for sync/audio/images/gallery workflows.",
      "invoke": "python scripts/agent_tools.py ui --port 5000",
      "backend_script": "app.py"
    }
  ]
}
